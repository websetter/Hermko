{% import "Ceres::PageDesign.Macros.LayoutContainer" as LayoutContainer %}

<script type="x/template" id="vue-basket-totals">
    <!-- BASKET TOTALS -->
    <div class="cmp cmp-totals">
        <div class="component-loading with-icon refreshing" :class="{ 'isLoading': isBasketLoading }">
            <dl>
                {{ LayoutContainer.show("Hermko::BasketTotals.BeforeItemSum") }}
                <dt v-if="showProperty( 'basket.value_of_items_net' )">
                    {{ trans("Ceres::Template.basketValue") }} ({{ trans("Ceres::Template.basketNet") }})
                </dt><!--
                --><dd v-if="showProperty( 'basket.value_of_items_net' )">
                    ${ basket.itemSumNet | currency }
                </dd>

                <dt v-if="showProperty( 'basket.value_of_items_gross' )">
                    <strong>
                        {{ trans("Ceres::Template.basketValue") }} ({{ trans("Ceres::Template.basketGross") }})
                    </strong>
                </dt><!--
                --><dd v-if="showProperty( 'basket.value_of_items_gross' )">
                    <strong>${ basket.itemSum | currency  }</strong>
                </dd>

                <dt class="rebate-hint" v-if="(showProperty('basket.value_of_items_net') || showProperty('basket.value_of_items_gross')) && basket.basketRebate">
                    ${ basket.basketRebate }% {{ trans("Ceres::Template.basketRebate") }}
                </dt><!--
                --><dd></dd>
                {{ LayoutContainer.show("Hermko::BasketTotals.AfterItemSum") }}

                {{ LayoutContainer.show("Hermko::BasketTotals.BeforeShippingCosts") }}
                <dt v-if="showProperty( 'basket.shipping_costs_net' )">
                    {{ trans("Ceres::Template.itemShippingCosts") }} ({{ trans("Ceres::Template.basketNet") }})
                </dt><!--
                --><dd v-if="showProperty( 'basket.shipping_costs_net' )">
                    ${ basket.shippingAmountNet | currency }
                </dd>

                <dt v-if="showProperty( 'basket.shipping_costs_gross' )">
                    <strong>{{ trans("Ceres::Template.itemShippingCosts") }} ({{ trans("Ceres::Template.basketGross") }})</strong>
                </dt><!--
                --><dd v-if="showProperty( 'basket.shipping_costs_gross' )">
                    <strong>${ basket.shippingAmount | currency }</strong>
                </dd>
                {{ LayoutContainer.show("Hermko::BasketTotals.AfterShippingCosts") }}

                <hr>

                {{ LayoutContainer.show("Hermko::BasketTotals.BeforeTotalSum") }}
                <dt v-if="showProperty( 'basket.order_total_net' )">
                    {{ trans("Ceres::Template.basketTotalSum") }} ({{ trans("Ceres::Template.basketNet") }})
                </dt><!--
                --><dd v-if="showProperty( 'basket.order_total_net' )">
                    ${ basket.basketAmountNet | currency }
                </dd>

                <dt v-show="basket.couponCode">
                    <strong>{{ trans("Ceres::Template.basketCoupon") }}</strong>
                </dt><!--
                --><dd v-show="basket.couponCode">
                    <strong>${ basket.couponDiscount | currency }</strong>
                </dd>

                {{ LayoutContainer.show("Hermko::BasketTotals.BeforeVat") }}
                <div class="vatTotals" v-for="totalVat in basket.totalVats">
                    <dt v-if="showProperty( 'basket.vat' )">
                        {{ trans("Ceres::Template.basketVAT") }} ${ totalVat.vatValue }%
                    </dt><!--
                    --><dd v-if="showProperty( 'basket.vat' )">
                        ${ totalVat.vatAmount | currency }
                    </dd>
                </div>
                {{ LayoutContainer.show("Hermko::BasketTotals.AfterVat") }}

                <div class="totalSum">
                    <hr v-if="showProperty( 'basket.vat' )">
                    <dt v-if="showProperty( 'basket.order_total_gross' )">
                        <strong>{{ trans("Ceres::Template.basketTotalSum") }} ({{ trans("Ceres::Template.basketGross") }})</strong>
                    </dt><!--
                    --><dd v-if="showProperty( 'basket.order_total_gross' )">
                        <strong>${ basket.basketAmount | currency }</strong>
                    </dd>
                    <dt class="rebate-hint" v-if="!showProperty('basket.value_of_items_net') && !showProperty('basket.value_of_items_gross') && basket.basketRebate">
                        ${ basket.basketRebate }% {{ trans("Ceres::Template.basketRebate") }}
                    </dt><!--
                    --><dd></dd>
                </div>
                {{ LayoutContainer.show("Hermko::BasketTotals.AfterTotalSum") }}
            </dl>
        </div>
    </div>
    <!-- ./BASKET TOTALS -->
</script>
